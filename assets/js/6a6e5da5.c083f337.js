"use strict";(self.webpackChunkobsrvr_docs=self.webpackChunkobsrvr_docs||[]).push([[4362],{867:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"flow/consumers/index","title":"Consumers Overview","description":"Consumers are the destination components in Flow pipelines that receive processed blockchain data and deliver it to your applications, databases, or storage systems. Each consumer is optimized for specific use cases and integration patterns.","source":"@site/docs/flow/consumers/index.md","sourceDirName":"flow/consumers","slug":"/flow/consumers/","permalink":"/docs/flow/consumers/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Consumers Overview"},"sidebar":"docs","previous":{"title":"Contract Events","permalink":"/docs/flow/processors/contract-events"},"next":{"title":"PostgreSQL","permalink":"/docs/flow/consumers/postgresql"}}');var r=s(4848),l=s(8453);const t={sidebar_position:1,title:"Consumers Overview"},o="Consumers",c={},a=[{value:"Available Consumers",id:"available-consumers",level:2},{value:"Database Storage",id:"database-storage",level:3},{value:"PostgreSQL",id:"postgresql",level:4},{value:"Redis",id:"redis",level:4},{value:"DuckDB",id:"duckdb",level:4},{value:"SQLite",id:"sqlite",level:4},{value:"Streaming &amp; Messaging",id:"streaming--messaging",level:3},{value:"Webhook",id:"webhook",level:4},{value:"Kafka",id:"kafka",level:4},{value:"ZeroMQ",id:"zeromq",level:4},{value:"Cloud Storage",id:"cloud-storage",level:3},{value:"Amazon S3",id:"amazon-s3",level:4},{value:"Specialized Consumers",id:"specialized-consumers",level:2},{value:"PostgreSQL Schema Variants",id:"postgresql-schema-variants",level:3},{value:"Choosing the Right Consumer",id:"choosing-the-right-consumer",level:2},{value:"1. <strong>Data Access Patterns</strong>",id:"1-data-access-patterns",level:3},{value:"2. <strong>Scale Requirements</strong>",id:"2-scale-requirements",level:3},{value:"3. <strong>Infrastructure</strong>",id:"3-infrastructure",level:3},{value:"4. <strong>Integration Needs</strong>",id:"4-integration-needs",level:3},{value:"Consumer Configuration",id:"consumer-configuration",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Credential Management",id:"credential-management",level:3},{value:"Connection Security",id:"connection-security",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Batch Processing",id:"batch-processing",level:3},{value:"Connection Pooling",id:"connection-pooling",level:3},{value:"Parallel Processing",id:"parallel-processing",level:3},{value:"Monitoring &amp; Troubleshooting",id:"monitoring--troubleshooting",level:2},{value:"Health Checks",id:"health-checks",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"consumers",children:"Consumers"})}),"\n",(0,r.jsx)(n.p,{children:"Consumers are the destination components in Flow pipelines that receive processed blockchain data and deliver it to your applications, databases, or storage systems. Each consumer is optimized for specific use cases and integration patterns."}),"\n",(0,r.jsx)(n.h2,{id:"available-consumers",children:"Available Consumers"}),"\n",(0,r.jsx)(n.h3,{id:"database-storage",children:"Database Storage"}),"\n",(0,r.jsx)(n.h4,{id:"postgresql",children:(0,r.jsx)(n.a,{href:"/docs/flow/consumers/postgresql",children:"PostgreSQL"})}),"\n",(0,r.jsx)(n.p,{children:"The most versatile consumer for structured data storage. Features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multiple schema options (generic, specialized)"}),"\n",(0,r.jsx)(n.li,{children:"Batch processing for efficiency"}),"\n",(0,r.jsx)(n.li,{children:"Automatic table creation"}),"\n",(0,r.jsx)(n.li,{children:"Connection pooling"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Analytics databases"}),"\n",(0,r.jsx)(n.li,{children:"Application backends"}),"\n",(0,r.jsx)(n.li,{children:"Historical data storage"}),"\n",(0,r.jsx)(n.li,{children:"Reporting systems"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"redis",children:"Redis"}),"\n",(0,r.jsx)(n.p,{children:"High-performance in-memory storage for real-time access:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Latest ledger information"}),"\n",(0,r.jsx)(n.li,{children:"Real-time balance tracking"}),"\n",(0,r.jsx)(n.li,{children:"Cache layer for applications"}),"\n",(0,r.jsx)(n.li,{children:"Pub/sub capabilities"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"duckdb",children:"DuckDB"}),"\n",(0,r.jsx)(n.p,{children:"Embedded analytical database perfect for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Local analytics"}),"\n",(0,r.jsx)(n.li,{children:"Data science workflows"}),"\n",(0,r.jsx)(n.li,{children:"No infrastructure required"}),"\n",(0,r.jsx)(n.li,{children:"Columnar storage efficiency"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"sqlite",children:"SQLite"}),"\n",(0,r.jsx)(n.p,{children:"Lightweight embedded database ideal for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Development and testing"}),"\n",(0,r.jsx)(n.li,{children:"Edge deployments"}),"\n",(0,r.jsx)(n.li,{children:"Single-user applications"}),"\n",(0,r.jsx)(n.li,{children:"Portable data storage"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"streaming--messaging",children:"Streaming & Messaging"}),"\n",(0,r.jsx)(n.h4,{id:"webhook",children:"Webhook"}),"\n",(0,r.jsx)(n.p,{children:"HTTP endpoint delivery for real-time notifications:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Configurable batch sizes"}),"\n",(0,r.jsx)(n.li,{children:"Secret-based authentication"}),"\n",(0,r.jsx)(n.li,{children:"Retry logic"}),"\n",(0,r.jsx)(n.li,{children:"Custom headers support"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time notifications"}),"\n",(0,r.jsx)(n.li,{children:"Microservice integration"}),"\n",(0,r.jsx)(n.li,{children:"Third-party webhooks"}),"\n",(0,r.jsx)(n.li,{children:"Event-driven architectures"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"kafka",children:"Kafka"}),"\n",(0,r.jsx)(n.p,{children:"Enterprise message streaming platform:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"High-throughput data pipelines"}),"\n",(0,r.jsx)(n.li,{children:"Multiple consumer groups"}),"\n",(0,r.jsx)(n.li,{children:"Guaranteed delivery"}),"\n",(0,r.jsx)(n.li,{children:"Horizontal scaling"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"zeromq",children:"ZeroMQ"}),"\n",(0,r.jsx)(n.p,{children:"Lightweight message queue for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"High-performance IPC"}),"\n",(0,r.jsx)(n.li,{children:"Minimal latency"}),"\n",(0,r.jsx)(n.li,{children:"Flexible patterns (pub/sub, push/pull)"}),"\n",(0,r.jsx)(n.li,{children:"No broker required"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cloud-storage",children:"Cloud Storage"}),"\n",(0,r.jsx)(n.h4,{id:"amazon-s3",children:"Amazon S3"}),"\n",(0,r.jsx)(n.p,{children:"Scalable object storage for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Data archival"}),"\n",(0,r.jsx)(n.li,{children:"Batch processing inputs"}),"\n",(0,r.jsx)(n.li,{children:"Data lake architectures"}),"\n",(0,r.jsx)(n.li,{children:"Backup and compliance"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"specialized-consumers",children:"Specialized Consumers"}),"\n",(0,r.jsx)(n.h3,{id:"postgresql-schema-variants",children:"PostgreSQL Schema Variants"}),"\n",(0,r.jsx)(n.p,{children:"Flow offers specialized PostgreSQL consumers with optimized schemas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Account Data PostgreSQL"}),": Stellar account information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Invocations PostgreSQL"}),": Soroban contract calls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Events PostgreSQL"}),": Smart contract events"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SwapService PostgreSQL"}),": DEX-specific data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Data PostgreSQL"}),": Contract storage with custom schemas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Extracted Contract Invocations PostgreSQL"}),": Business data extraction"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"choosing-the-right-consumer",children:"Choosing the Right Consumer"}),"\n",(0,r.jsx)(n.p,{children:"Consider these factors when selecting a consumer:"}),"\n",(0,r.jsxs)(n.h3,{id:"1-data-access-patterns",children:["1. ",(0,r.jsx)(n.strong,{children:"Data Access Patterns"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Real-time queries"}),": PostgreSQL, Redis"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Batch analytics"}),": S3, DuckDB"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stream processing"}),": Kafka, Webhook"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Embedded/Edge"}),": SQLite, DuckDB"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-scale-requirements",children:["2. ",(0,r.jsx)(n.strong,{children:"Scale Requirements"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"High volume"}),": Kafka, S3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Moderate volume"}),": PostgreSQL, Webhook"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Low volume"}),": SQLite, ZeroMQ"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-infrastructure",children:["3. ",(0,r.jsx)(n.strong,{children:"Infrastructure"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Managed services"}),": PostgreSQL, S3"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Self-hosted"}),": All options"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No infrastructure"}),": SQLite, DuckDB"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-integration-needs",children:["4. ",(0,r.jsx)(n.strong,{children:"Integration Needs"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SQL queries"}),": PostgreSQL, DuckDB, SQLite"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REST APIs"}),": Webhook"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stream processing"}),": Kafka, ZeroMQ"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Key-value access"}),": Redis"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"consumer-configuration",children:"Consumer Configuration"}),"\n",(0,r.jsx)(n.p,{children:"All consumers support configuration through the Flow pipeline builder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "consumer_type": "postgres",\n  "config": {\n    "connection_string": "postgresql://user:pass@host/db",\n    "batch_size": 100\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"credential-management",children:"Credential Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Credentials are stored securely in Vault"}),"\n",(0,r.jsx)(n.li,{children:"Never exposed in logs or UI"}),"\n",(0,r.jsx)(n.li,{children:"Automatic rotation support"}),"\n",(0,r.jsx)(n.li,{children:"Encrypted in transit"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"connection-security",children:"Connection Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TLS/SSL support for all network consumers"}),"\n",(0,r.jsxs)(n.li,{children:["Authentication mechanisms:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PostgreSQL: Username/password, SSL certs"}),"\n",(0,r.jsx)(n.li,{children:"Kafka: SASL, SSL"}),"\n",(0,r.jsx)(n.li,{children:"S3: IAM credentials"}),"\n",(0,r.jsx)(n.li,{children:"Webhook: Shared secrets"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"batch-processing",children:"Batch Processing"}),"\n",(0,r.jsx)(n.p,{children:"Most consumers support batch processing for efficiency:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Configure appropriate batch sizes"}),"\n",(0,r.jsx)(n.li,{children:"Balance between latency and throughput"}),"\n",(0,r.jsx)(n.li,{children:"Consider memory constraints"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"connection-pooling",children:"Connection Pooling"}),"\n",(0,r.jsx)(n.p,{children:"Database consumers maintain connection pools:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reuse connections for better performance"}),"\n",(0,r.jsx)(n.li,{children:"Configure pool sizes based on load"}),"\n",(0,r.jsx)(n.li,{children:"Monitor connection health"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"parallel-processing",children:"Parallel Processing"}),"\n",(0,r.jsx)(n.p,{children:"Some consumers support parallel writes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Kafka partitions"}),"\n",(0,r.jsx)(n.li,{children:"S3 multipart uploads"}),"\n",(0,r.jsx)(n.li,{children:"PostgreSQL parallel inserts"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"monitoring--troubleshooting",children:"Monitoring & Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"health-checks",children:"Health Checks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connection status monitoring"}),"\n",(0,r.jsx)(n.li,{children:"Write failure tracking"}),"\n",(0,r.jsx)(n.li,{children:"Latency measurements"}),"\n",(0,r.jsx)(n.li,{children:"Queue depth (for streaming consumers)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection failures"}),": Check credentials and network"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance degradation"}),": Adjust batch sizes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data loss"}),": Enable consumer acknowledgments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema mismatches"}),": Verify data formats"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start Simple"}),": Begin with PostgreSQL or Webhook"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Plan for Scale"}),": Choose consumers that can grow with your needs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Performance"}),": Track metrics and adjust configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Handle Failures"}),": Implement retry logic and dead letter queues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Secure Credentials"}),": Use Vault integration for sensitive data"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Explore individual consumer documentation for detailed configuration"}),"\n",(0,r.jsxs)(n.li,{children:["Check our ",(0,r.jsx)(n.a,{href:"/docs/flow/getting-started/quickstart",children:"Getting Started Guide"})," for implementation examples"]}),"\n",(0,r.jsxs)(n.li,{children:["Learn about ",(0,r.jsx)(n.a,{href:"../processors",children:"processors"})," to transform your data"]}),"\n",(0,r.jsxs)(n.li,{children:["Review ",(0,r.jsx)(n.a,{href:"/docs/flow/overview",children:"Flow Overview"})," for architecture details"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);